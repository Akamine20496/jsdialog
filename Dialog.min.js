class Dialog{static OK_OPTION=0;static CANCEL_OPTION=1;static YES_OPTION=2;static NO_OPTION=3;static{Object.defineProperties(this,{OK_OPTION:{writable:!1,configurable:!1},CANCEL_OPTION:{writable:!1,configurable:!1},YES_OPTION:{writable:!1,configurable:!1},NO_OPTION:{writable:!1,configurable:!1}}),this.#t(),this.#e()}static#o=Promise.resolve();static#i={dialog:{mouseover:{"box-shadow":"0 6px 12px rgba(0, 0, 0, 0.3)"},mouseout:{"box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)"}},button:{mouseover:{"background-color":"#495057",outline:"1px solid rgba(173, 181, 189, 0.5)","box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)"},mouseout:{"background-color":"#adb5bd",outline:"none","box-shadow":"none"},focus:{outline:"1px solid rgba(173, 181, 189, 0.5)","box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)"},blur:{outline:"none","box-shadow":"none"}}};static#n(t){return t.replace(/<[^>]*>/g,"")}static#a(t){return/<[^>]*>/g.test(t)}static#t(){let t=document.getElementById("dialog-scrollbar-style");t||(t=document.createElement("style"),t.id="dialog-scrollbar-style",document.head.appendChild(t),t.textContent="\n            dialog::-webkit-scrollbar,\n            dialog .scrollableDialogContent::-webkit-scrollbar,\n            #plainDialog .scrollableDialogContent::-webkit-scrollbar {\n                width: 5px !important;\n            }\n            dialog::-webkit-scrollbar-track,\n            dialog .scrollableDialogContent::-webkit-scrollbar-track,\n            #plainDialog .scrollableDialogContent::-webkit-scrollbar-track {\n                display: none !important;\n            }\n            dialog::-webkit-scrollbar-thumb,\n            dialog .scrollableDialogContent::-webkit-scrollbar-thumb,\n            #plainDialog .scrollableDialogContent::-webkit-scrollbar-thumb {\n                background-color: #888 !important;\n                border-radius: 10px !important;\n            }\n            dialog::-webkit-scrollbar-thumb:hover,\n            dialog .scrollableDialogContent::-webkit-scrollbar-thumb:hover,\n            #plainDialog .scrollableDialogContent::-webkit-scrollbar-thumb:hover {\n                background-color: #555 !important;\n            }\n            dialog::-webkit-scrollbar-button,\n            dialog .scrollableDialogContent::-webkit-scrollbar-button,\n            #plainDialog .scrollableDialogContent::-webkit-scrollbar-button {\n                display: none !important;\n            }\n        ")}static#e(){let t=document.getElementById("dialog-animation-style");t||(t=document.createElement("style"),t.id="dialog-animation-style",document.head.appendChild(t),t.textContent="\n            #plainDialogBackdrop.fade-in, #plainDialog.fade-in {\n                animation: fade-in 0.3s ease forwards !important;\n            }\n            #plainDialogBackdrop.fade-out, #plainDialog.fade-out {\n                animation: fade-out 0.3s ease forwards !important;\n            }\n            @keyframes fade-in {\n                from { opacity: 0; }\n                to { opacity: 1; }\n            }\n            @keyframes fade-out {\n                from { opacity: 1; }\n                to { opacity: 0; }\n            }\n        ")}static#l(t,e=!1){function o(e,o){if(t.eventStyles&&t.eventStyles[o])for(const[i,n]of Object.entries(t.eventStyles[o]))for(const[t,o]of Object.entries(n))e.addEventListener(i,(()=>e.style.setProperty(t,o,"important")))}function i(t,e){if(t&&Object.keys(e).length>0)for(const[o,i]of Object.entries(e))t.style.setProperty(o,i,"important")}return()=>new Promise((n=>{if(e){const e=document.createElement("div");e.id=t.backdrop.id||"backdrop",e.className="fade-in",i(e,Object.assign({display:"none",position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh","background-color":"rgba(0, 0, 0, 0.1)","z-index":"9999","overflow-y":"auto","overflow-x":"hidden",margin:"0",padding:"0","box-sizing":"border-box",opacity:"0","justify-content":"center","align-items":"center"},t.backdrop.style)),o(e,"backdrop"),document.body.prepend(e);const a=document.createElement("div");if(a.id=t.dialog.id||"modalDialog",a.className="fade-in",i(a,Object.assign({margin:"auto",padding:"0","border-radius":"10px","box-shadow":"0 6px 12px rgba(0, 0, 0, 0.2)","max-width":"50vw","max-height":"85vh","min-width":"300px","min-height":"150px","box-sizing":"border-box","background-color":"#f9f9f9",display:"flex","flex-direction":"column",opacity:"0",overflow:"hidden","font-family":"Arial, sans-serif","user-select":"text"},t.dialog.style)),o(a,"dialog"),t.header){const l=document.createElement(t.header.tag||"div");if(t.header.id&&(l.id=t.header.id),i(l,Object.assign({width:"auto",height:"auto","background-color":"inherit","box-sizing":"unset",padding:"0",margin:"0",flex:"0 0 20%",display:"flex","align-items":"center","justify-content":"flex-end"},t.header.style)),o(l,"header"),t.header.closeButton){const s=document.createElement(t.header.closeButton.tag||"button");t.header.closeButton.id&&(s.id=t.header.closeButton.id),s.innerText=t.header.closeButton.text||"×",i(s,Object.assign({"user-select":"none","font-family":"Arial, sans-serif",width:"20px",height:"auto","box-sizing":"unset","font-size":"1.250rem","text-align":"center","background-color":"#adb5bd",margin:"0",padding:"8px 16px",border:"none","border-radius":"4px",color:"#fff",transition:"background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out"},t.header.closeButton.style)),o(s,"button"),t.header.closeButton.id&&o(s,"#"+t.header.closeButton.id),s.addEventListener("click",(()=>{a.style.setProperty("opacity","0","important"),e.style.setProperty("opacity","0","important"),setTimeout((()=>{e.remove(),n()}),300)})),l.appendChild(s)}a.appendChild(l)}if(t.content){const e=document.createElement(t.content.tag||"div");t.content.id&&(e.id=t.content.id),e.className="scrollableDialogContent",e[this.#a(t.content.text)?"innerHTML":"innerText"]=t.content.text,i(e,Object.assign({width:"auto",height:"auto","background-color":"rgba(221, 216, 216, 0.26)","border-radius":"8px",flex:"1 1 auto","max-height":"calc(100% - 20%)","overflow-y":"auto",padding:"4px 5px",margin:"2px 10px 10px 10px",color:"#555","scroll-behavior":"smooth","box-sizing":"unset","overflow-wrap":"break-word"},t.content.style)),o(e,"content"),a.appendChild(e)}e.appendChild(a),e.style.setProperty("display","flex","important"),setTimeout((()=>{e.style.setProperty("opacity","1","important"),a.style.setProperty("opacity","1","important")}),10)}else{const e=document.createElement("dialog");if(e.id=t.dialog.id||"modalDialog",i(e,Object.assign({display:"block",border:"none","border-radius":"10px","box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)",margin:"0 auto","align-self":"center",padding:"15px","min-width":"300px","min-height":"150px","max-width":"45vw","max-height":"900px","box-sizing":"border-box","font-family":"Arial, sans-serif","user-select":"text","background-color":"#f9f9f9",position:"static",top:"0",overflow:"hidden",animation:"fade-in 0.3s ease","animation-fill-mode":"forwards"},t.dialog.style)),o(e,"dialog"),t.header){const n=document.createElement(t.header.tag||"div");if(t.header.id&&(n.id=t.header.id),i(n,Object.assign({width:"auto",height:"auto","background-color":"inherit","box-sizing":"unset",padding:"0",margin:"0 0 10px 0","margin-bottom":"10px"},t.header.style)),o(n,"header"),t.header.title){const e=document.createElement(t.header.title.tag||"h4");t.header.title.id&&(e.id=t.header.title.id),e.innerText=t.header.title.text,i(e,Object.assign({width:"auto",height:"auto","box-sizing":"unset",padding:"0",margin:"0","font-size":"1.5rem",color:"#333","font-weight":"bold"},t.header.title.style)),n.appendChild(e)}e.appendChild(n)}if(t.content){const n=document.createElement(t.content.tag||"div");t.content.id&&(n.id=t.content.id),n.className="scrollableDialogContent",n[this.#a(t.content.text)?"innerHTML":"innerText"]=t.content.text,i(n,Object.assign({width:"auto",height:"auto","background-color":"rgba(221, 216, 216, 0.26)","box-sizing":"unset","border-radius":"8px","min-height":"50px","max-height":"300px",padding:"4px 5px",margin:"0 0 20px 0","border-bottom":"1px solid #ccc",color:"#555","overflow-y":"auto","scroll-behavior":"smooth","overflow-wrap":"break-word"},t.content.style)),o(n,"content"),e.appendChild(n)}if(t.input){const a=document.createElement("form");i(a,{width:"100%",height:"auto",display:"flex","box-sizing":"unset",padding:"0",margin:"0 0 20px 0"});const l=document.createElement("input");t.input.id&&(l.id=t.input.id),l.type=t.input.type||"text",i(l,Object.assign({width:"100%",height:"30px","font-family":"Arial, sans-serif","box-sizing":"unset",padding:"0 4px",margin:"0","font-size":"small",border:"1px solid #ccc","border-radius":"4px"},t.input.style)),o(l,"input");const s=o=>{o.preventDefault();const i={output:null};i.option=t.footer.buttons[0].option,i.output=l.value?this.#n(l.value):null,a.removeEventListener("submit",s),e.close(),n(i),e.remove()};a.addEventListener("submit",s),a.appendChild(l),e.appendChild(a)}if(t.footer&&Array.isArray(t.footer.buttons)){const a=document.createElement(t.footer.tag||"div");t.footer.id&&(a.id=t.footer.id),i(a,Object.assign({width:"100%",height:"auto","background-color":"inherit",overflow:"hidden","box-sizing":"unset",padding:"0",display:"flex","justify-content":"space-between",gap:"4px"},t.footer.style)),o(a,"footer");const l=t.footer.buttons.length;for(const s of t.footer.buttons){const r=document.createElement(s.tag||"button");r.type="inputDialogBtnOk"===s.id?"submit":"button",s.id&&(r.id=s.id),r.innerText=s.text,1===l?r.style.setProperty("width","100%","important"):2===l?(r.style.setProperty("width","48%","important"),r.style.setProperty("margin","1%","important")):(r.style.setProperty("flex","1","important"),r.style.setProperty("margin","0 4px","important")),i(r,Object.assign({"user-select":"none","background-color":"#adb5bd",width:"100%",height:"auto","box-sizing":"unset",padding:"8px 16px",margin:"0","font-size":"small",border:"none","border-radius":"4px",color:"#fff",transition:"background-color 0.2s ease-in-out, box-shadow 0.2s ease-in-out"},s.style)),o(r,"button"),s.id&&o(r,"#"+s.id),r.addEventListener("click",(o=>{if("inputDialog"===t.dialog.id&&"inputDialogBtnOk"===s.id){return void o.target.closest("dialog").querySelector("form").dispatchEvent(new Event("submit"))}const i={output:null};i.option=s.option,s.callback&&"function"==typeof s.callback&&s.callback(o),t.instructionDialog&&!0===s.navigation||(e.close(),n(i),e.remove())})),a.appendChild(r)}e.appendChild(a)}document.body.prepend(e),e.open||e.showModal()}}))}static async showInputDialog(t,e,o={}){const i=Object.assign({input:{focus:{outline:"2px solid rgba(204, 204, 204, 0.5)","box-shadow":"0 4px 8px rgba(0, 0, 0, 0.2)"},blur:{outline:"none","box-shadow":"none"}}},this.#i,o?.eventStyles||{}),n={dialog:{id:"inputDialog",style:o?.dialog||{}},header:{tag:"header",id:"inputDialogHeader",style:o?.header||{},title:{tag:"h4",id:"inputDialogTitle",text:t,style:o?.title||{}}},content:{tag:"main",id:"inputDialogContent",text:e,style:o?.content||{}},input:{id:"inputDialogInput",type:"text",style:o?.input||{}},footer:{tag:"footer",id:"inputDialogFooter",style:o?.footer||{},buttons:[{tag:"button",id:"inputDialogBtnOk",text:"OK",style:o?.btnOk||{},option:this.OK_OPTION},{tag:"button",id:"inputDialogBtnCancel",text:"Cancel",style:o?.btnCancel||{},option:this.CANCEL_OPTION}]},eventStyles:i};await this.#o;const a=this.#l(n,!1);return this.#o=a(),await this.#o}static async showMessageDialog(t,e,o={}){const i=Object.assign({},this.#i,o?.eventStyles||{}),n={dialog:{id:"messageDialog",style:o?.dialog||{}},header:{tag:"header",id:"messageDialogHeader",style:o?.header||{},title:{tag:"h4",id:"messageDialogTitle",text:t,style:o?.title||{}}},content:{tag:"main",id:"messageDialogContent",text:e,style:o?.content||{}},footer:{tag:"footer",id:"messageDialogFooter",style:o?.footer||{},buttons:[{tag:"button",id:"messageDialogBtnOk",text:"OK",style:o?.btnOk||{},option:this.OK_OPTION}]},eventStyles:i};await this.#o;const a=this.#l(n,!1);return this.#o=a(),await this.#o}static async showConfirmDialog(t,e,o={}){const i=Object.assign({},this.#i,o?.eventStyles||{}),n={dialog:{id:"confirmDialog",style:o?.dialog||{}},header:{tag:"header",id:"confirmDialogHeader",style:o?.header||{},title:{tag:"h4",id:"confirmDialogTitle",text:t,style:o?.title||{}}},content:{tag:"main",id:"confirmDialogContent",text:e,style:o?.content||{}},footer:{tag:"footer",id:"confirmDialogFooter",style:o?.footer||{},buttons:[{tag:"button",id:"confirmDialogBtnYes",text:"Yes",style:o?.btnYes||{},option:this.YES_OPTION},{tag:"button",id:"confirmDialogBtnNo",text:"No",style:o?.btnNo||{},option:this.NO_OPTION}]},eventStyles:i};await this.#o;const a=this.#l(n,!1);return this.#o=a(),await this.#o}static async showPlainDialog(t,e={}){const o=Object.assign({},this.#i,e?.eventStyles||{}),i={backdrop:{id:"plainDialogBackdrop",style:e?.backdrop||{}},dialog:{id:"plainDialog",style:e?.dialog||{}},header:{tag:"div",id:"plainDialogHeader",style:e?.header||{},closeButton:{tag:"button",id:"plainDialogBtnClose",text:"×",style:e?.btnClose||{}}},content:{tag:"div",id:"plainDialogContent",text:t,style:e?.content||{}},eventStyles:o};await this.#o;const n=this.#l(i,!0);return this.#o=n(),await this.#o}static async showInstructionDialog(t,e,o={}){if(!Array.isArray(e))return void await this.showMessageDialog("Invalid Content","The contents must be array of strings.");let i=[],n=0;const a=e.length;if(!function(t){return t.every((t=>"string"==typeof t))}(e))return void await this.showMessageDialog("Invalid content.","Include only strings.");if(!(a>0))return void await this.showMessageDialog("Empty content.","Please add content at least 1.");i=e;const l=Object.assign({},this.#i,o?.eventStyles||{}),s={instructionDialog:!0,dialog:{id:"instructionDialog",style:o?.dialog||{}},header:{tag:"header",id:"instructionDialogHeader",style:o?.header||{},title:{tag:"h4",id:"instructionDialogTitle",text:t+` (${n+1}/${a})`,style:o?.title||{}}},content:{tag:"main",id:"instructionDialogContent",text:i[0],style:o?.content||{}},footer:{tag:"footer",id:"instructionDialogFooter",style:o?.footer||{},buttons:[]},eventStyles:l};1===a?s.footer.buttons.push({tag:"button",id:"instructionDialogBtnOk",text:"OK",style:o?.btnOk||{},option:this.OK_OPTION,navigation:!1}):s.footer.buttons.push({tag:"button",id:"instructionDialogBtnPrev",text:"< Previous",style:o?.btnPrev||{},option:null,navigation:!0,callback:e=>{e.target.focus();const o=document.getElementById("instructionDialogTitle");n>0&&(n--,r(),o.innerText=t+` (${n+1}/${a})`)}},{tag:"button",id:"instructionDialogBtnNext",text:"Next >",style:o?.btnNext||{},option:null,navigation:!0,callback:e=>{e.target.focus();const o=document.getElementById("instructionDialogTitle");n<a-1?(n++,r(),o.innerText=t+` (${n+1}/${a})`):n===a-1&&(s.footer.buttons[1].navigation=!1)}});const r=()=>{const t=document.getElementById("instructionDialogContent");this.#a(i[n])?t.innerHTML=i[n]:t.innerText=i[n],function(){const t=document.getElementById("instructionDialogBtnPrev"),e=document.getElementById("instructionDialogBtnNext");t&&(t.style.display=0===n?"none":"inline-block");e&&(e.innerText=n===a-1?"OK":"Next >",e.navigation=n!==a-1)}()};await this.#o;const d=this.#l(s,!1);return this.#o=d(),r(),await this.#o}}